<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Kinematic of the steering geometry · micromobilitykinematics.jl</title><meta name="title" content="Kinematic of the steering geometry · micromobilitykinematics.jl"/><meta property="og:title" content="Kinematic of the steering geometry · micromobilitykinematics.jl"/><meta property="twitter:title" content="Kinematic of the steering geometry · micromobilitykinematics.jl"/><meta name="description" content="Documentation for micromobilitykinematics.jl."/><meta property="og:description" content="Documentation for micromobilitykinematics.jl."/><meta property="twitter:description" content="Documentation for micromobilitykinematics.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2"><span class="docs-label">About the Vehicle</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox" checked/><label class="tocitem" for="menuitem-2-1"><span class="docs-label">Steering geometry of the vehicle</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Kinematic of the steering geometry</a><ul class="internal"><li><a class="tocitem" href="#Initial-Position-of-the-Steering-System"><span>Initial Position of the Steering System</span></a></li><li><a class="tocitem" href="#Positioning-with-influence-of-the-steering-angle"><span>Positioning with influence of the steering angle</span></a></li><li><a class="tocitem" href="#Determination-of-the-joint-center-of-rotation-of-the-track-lever"><span>Determination of the joint center of rotation of the track lever</span></a></li><li><a class="tocitem" href="#Selection-criterion-for-joint-positions"><span>Selection criterion for joint positions</span></a></li></ul></li><li><a class="tocitem" href="../optimisation_problem/">Optimisation problem of the steering geometry </a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../examples/changing_steering_position/">Changing steering position</a></li><li><a class="tocitem" href="../examples/optimizing_the_steering/">Optimizing the steering</a></li></ul></li><li><a class="tocitem" href="../library/">Function Library</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">About the Vehicle</a></li><li><a class="is-disabled">Steering geometry of the vehicle</a></li><li class="is-active"><a href>Kinematic of the steering geometry</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Kinematic of the steering geometry</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/una-auxme/micromobilitykinematics.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Calculation-of-the-kinematic-model"><a class="docs-heading-anchor" href="#Calculation-of-the-kinematic-model">Calculation of the kinematic model</a><a id="Calculation-of-the-kinematic-model-1"></a><a class="docs-heading-anchor-permalink" href="#Calculation-of-the-kinematic-model" title="Permalink"></a></h1><p>Within the kinematic model, the joint positions are primarily calculated, taking into account variable steering angle settings, either to transfer them to the design environment or to utilize them for optimization purposes.</p><h2 id="Initial-Position-of-the-Steering-System"><a class="docs-heading-anchor" href="#Initial-Position-of-the-Steering-System">Initial Position of the Steering System</a><a id="Initial-Position-of-the-Steering-System-1"></a><a class="docs-heading-anchor-permalink" href="#Initial-Position-of-the-Steering-System" title="Permalink"></a></h2><p>The selection of a suitable reference coordinate system is crucial for defining the initial position of key points. Such a coordinate system should easily integrate predefined lengths, widths, and distances and facilitate the calculation of positioning during rotational movements. A suitable point for this purpose is the intersection point of the rotational axes of the steering geometry. Figure illustrates this coordinate system, with the corresponding axes shown in black. Overall, the figure provides a functional representation of the adjustment capability of the steering geometry, with significant information highlighted through color visualization. For determining the initial position of the key reference points, only those vectors represented by a continuous line should be considered.</p><p><img src="https://github.com/adribrune/micromobilitykinematics.jl/blob/main/docs/src/assets/rotational%20component.png" alt="Figure 3.2: The functional representation of the setting option rotational component"/></p><p>The radius by which the rotational component can rotate around the x-axis lies in the rest position along the z-axis. rest position along the z-axis and is shown in Figure 3.2 as a red continuous vector. As there is no further angle of rotation in the rest position and there is a direct dependence of the position of the radii exists, the radius of rotation is represented by a vector (blue continuous vector) parallel to the x-axis. The coordinates of the vectors can be defined as follows:</p><p>$</p><p>\mathbf{r}_{1x} = \begin{pmatrix} 0 \ 0 \ -XSteeringRadius \end{pmatrix} \tag{3.1} $</p><p>$</p><p>\mathbf{r}_{1z} = \begin{pmatrix} -ZSteeringRadius \ 0 \ 0 \end{pmatrix} $</p><p>Taking into account the rotation around the vector <span>$r^1_x$</span>, the positioning of both joint centers of rotation <span>$P_L$</span> and <span>$P_R$</span> (yellow continuous vector) can be determined. By vector addition of the rotation vectors r1x, r1z and taking into accountthe component width b and the joint dimensions d (green continuous vector ) results in the following relationship:</p><p>$</p><p>p<em>1 = \mathbf{r</em>x} + \mathbf{r_z} + \begin{pmatrix} 0 \ \pm(d + (b/2)) \ 0 \end{pmatrix} </p><p>$</p><h2 id="Positioning-with-influence-of-the-steering-angle"><a class="docs-heading-anchor" href="#Positioning-with-influence-of-the-steering-angle">Positioning with influence of the steering angle</a><a id="Positioning-with-influence-of-the-steering-angle-1"></a><a class="docs-heading-anchor-permalink" href="#Positioning-with-influence-of-the-steering-angle" title="Permalink"></a></h2><p>Using the reference values of the initial position, the same characteristic points of the rotational component can now be calculated as a function of the steering angle. The first step involves performing an elementary rotation around the x-axis of the coordinate system, with a predefined angle θx. To map the coordinates of a point in a rotated coordinate system, the elementary rotation matrix is applied to the vector:</p><p>$</p><p>r^{(2)}<em>x = R</em>x(\theta<em>x) \cdot \mathbf{r}</em>x \tag{3.2}</p><p>$</p><p>The coordinates of the mapped vector represent a vector rotated by the angle θx in the original coordinate system. All other starting points of the steering system experience an additional rotational movement in which the component can rotate around the vector <span>$r^2_x$</span>. To describe this rotation, a further rotation matrix can be applied to the initial positions. This rotation is not described by an elementary rotation around one of the coordinate axes, but is based on the rotation around a position vector n positioned in space.</p><p>$</p><p>R<em>n(\theta</em>x) = \begin{bmatrix} n<em>2^2 \cdot (1 - \cos \theta</em>x) + \cos(\theta<em>x) &amp; n</em>1 \cdot n<em>2 \cdot (1 - \cos(\theta</em>x)) - n<em>3 \sin(\theta</em>x) &amp; n<em>1 \cdot n</em>3 \cdot (1 - \cos \theta<em>x) + n</em>2 \sin \theta<em>x \
n</em>2 \cdot n<em>1 \cdot (1 - \cos \theta</em>x) + n<em>3 \sin \theta</em>x &amp; (n<em>2^2) \cdot (1 - \cos \theta</em>x) + \cos \theta<em>x &amp; n</em>2 \cdot n<em>3 \cdot (1 - \cos \theta</em>x) - n<em>1 \sin \theta</em>x \
n<em>3 \cdot n</em>1 \cdot (1 - \cos \theta<em>x) - n</em>2 \sin \theta<em>x &amp; n</em>3 \cdot n<em>2 \cdot (1 - \cos \theta</em>x) + n<em>1 \sin \theta</em>x &amp; (n<em>3^2) \cdot (1 - \cos \theta</em>x) + \cos \theta_x \end{bmatrix} \tag{3.3}</p><p>$</p><p>For the positioning of both joint pivot center point vectors <span>$p^1$</span>:</p><p>$</p><p>r^{(2)}<em>x = R</em>x(\theta<em>x) \cdot r^{(1)}</em>x \tag{3.4} $</p><p>$</p><p>p<em>2 = R</em>{r^{(2)}<em>x} (\theta</em>x) \cdot p_1 $</p><h2 id="Determination-of-the-joint-center-of-rotation-of-the-track-lever"><a class="docs-heading-anchor" href="#Determination-of-the-joint-center-of-rotation-of-the-track-lever">Determination of the joint center of rotation of the track lever</a><a id="Determination-of-the-joint-center-of-rotation-of-the-track-lever-1"></a><a class="docs-heading-anchor-permalink" href="#Determination-of-the-joint-center-of-rotation-of-the-track-lever" title="Permalink"></a></h2><p>To enable comprehensive modeling of the steering, the positions of the outer joint rotation centers are essential. They link the tie rod and the steering components, facilitating the complete integration of the steering kinematic chain. The initial position discussed previously is now expanded by the kinematic chain, as shown in the figure below. The yellow vector represents the tie rod, which pivots around a center on the blue axis of rotation of the wheel carrier. Due to the symmetric properties of the steering geometry at rest, a one-sided representation was chosen for clarity, as an identical procedure applies to the opposite side. In this illustration, the joints are represented by circles, with the red color indicating the sought component.</p><p><img src="https://github.com/adribrune/micromobilitykinematics.jl/blob/main/docs/src/assets/rotation%20of%20track%20lever.png" alt="Figure 3.3: The functional representation of the adjustment options for the steering geometry"/></p><h3 id="Definition-of-an-independent-coordinate-system"><a class="docs-heading-anchor" href="#Definition-of-an-independent-coordinate-system">Definition of an independent coordinate system</a><a id="Definition-of-an-independent-coordinate-system-1"></a><a class="docs-heading-anchor-permalink" href="#Definition-of-an-independent-coordinate-system" title="Permalink"></a></h3><p>The joint positions depend on the dynamic movement of the wheel, which is connected through the track lever. The joints move in a circular path around the wheel&#39;s axis of rotation. When a steamer is compressed, the wheel suspension&#39;s position changes, resulting in an overall displacement of the lever and the required joint center of rotation.</p><p><img src="https://github.com/adribrune/micromobilitykinematics.jl/blob/main/docs/src/assets/Consideration_of_a_damped_wheel_suspension.png" alt="Figure 3.4: Consideration of a damped wheel suspension"/></p><p>Figure 3.4 illustrates these relationships, with the initial position in blue and displaced elements in green. The green cylinders represent the wishbone joints, allowing rotation around the dashed axes. Vectors \mathbf{ and <span>$\mathbf{q^2}$</span>​ simplify the wishbone positions, ending in joints that form the wheel&#39;s axis of rotation (dashed line in Fig. above). Vectors <span>$\mathbf{l^1}$</span>​ and <span>$\mathbf{l^2}$</span>​ indicate the steering arms, with center of rotation marked as <span>$\mathbf{M}$</span>​. The tie rod, shown as a pink dashed line, visualizes the displacement.</p><p>Given these considerations, selecting an independent coordinate system is crucial. This system must account for the kinematic chain of the steering geometry and allow for future modifications. A suitable coordinate system can be positioned at the rear lower wishbone bearing, where the dimensions are known, and the damper&#39;s dynamic movement can be integrated. In Figure 3.4, this coordinate system, Q-BKS, is represented with black basis vectors and aligned with the rotational component coordinate system, L-BKS, to facilitate the transfer of coordinates for essential points.</p><h3 id="Determining-the-centre-of-rotation-of-the-steering-lever"><a class="docs-heading-anchor" href="#Determining-the-centre-of-rotation-of-the-steering-lever">Determining the centre of rotation of the steering lever</a><a id="Determining-the-centre-of-rotation-of-the-steering-lever-1"></a><a class="docs-heading-anchor-permalink" href="#Determining-the-centre-of-rotation-of-the-steering-lever" title="Permalink"></a></h3><p>In order to ascertain the requisite joint position with due consideration of the effects of damped wheel suspension, it is necessary to exclude the influence of the latter. In an ideal scenario, a known point of wheel suspension would be selected, allowing for a straightforward calculation of the requisite position. Some of the points have already been determined through the calculation of the wheel suspension. These include the positions of the joints (depicted as circles in Fig. 3.4), which permit the wheels to rotate. The skilful choice of the Q-BKS allows for the straightforward tracking of these joints, rendering them an optimal reference point. Furthermore, it is established that the centre of rotation of the track lever is situated on the connecting line of both joints, providing a valuable reference for the z-coordinate axis of the reference coordinate system.</p><p>In order to calculate the requisite point, a reference coordinate system D-BKS is positioned in the lower wishbone joint (illustrated by circles in Fig. 3.4), with the direction of the z-axis unit vector coinciding with the axis of rotation of the wheel bracket. Figure 3.5 provides an overview of the orientation and positioning of the coordinate systems defined thus far. In combination with the previous Figure 3.4, it can be seen that the positions are readily comprehensible within the independent coordinate system Q-BKS.</p><p>The centre of rotation of the steering lever is situated at a specific distance, designated as <span>$|\mathbf{^Do_M}| = d$</span>, along the z-axis of the D-BKS. It is possible to transform a vector represented in the D-BKS into the Q-BKS by applying the following rotation matrix:</p><p>$</p><p>\mathbf{Q}<em>v = \mathbf{Q}</em>{\mathbf{R}\mathbf{D}} \cdot \mathbf{D}_v \tag{3.5} $</p><p>$</p><p>= \begin{bmatrix} e<em>{D,x} \cdot e</em>{Q,x} &amp; e<em>{D,y} \cdot e</em>{Q,x} &amp; e<em>{D,z} \cdot e</em>{Q,x} \
e<em>{D,x} \cdot e</em>{Q,y} &amp; e<em>{D,y} \cdot e</em>{Q,y} &amp; e<em>{D,z} \cdot e</em>{Q,y} \
e<em>{D,x} \cdot e</em>{Q,z} &amp; e<em>{D,y} \cdot e</em>{Q,z} &amp; e<em>{D,z} \cdot e</em>{Q,z} \
\end{bmatrix} \cdot \begin{bmatrix} x<em>D \
y</em>D \
z_D \
\end{bmatrix} \tag{3.6} $</p><p>The rotation matrix <span>$\mathbf{^QR_D}$</span> is constituted by the scalar products of the base vectors of the reference coordinate systems, reflecting their relationship to each other. It is thus necessary to determine the basis vectors of the D-BKS. The connecting vector of the wishbone joint forms the z-axis and can be determined by a simple vector subtraction of the position vectors. The following therefore applies to the unit vector of the z-axis:</p><p>$</p><p>e<em>{D,z} = \frac{\mathbf{^Qo</em>{G<em>1}} - \mathbf{^Qo</em>{G<em>2}}}{|\mathbf{^Qo</em>{G<em>1}} - \mathbf{^Qo</em>{G_2}}|} \tag{3.7} $</p><p>The graphical correlation is shown in Figure 3.6.</p><p><img src="https://github.com/adribrune/micromobilitykinematics.jl/blob/main/docs/src/assets/Graphical_derivation_of_a_base_vector_of_the_coordinate_system_D-BKS.png" alt="Figure 3.6: Graphical derivation of a base vector of the coordinate system D-BKS"/></p><p>The remaining two base vectors of the coordinate system can be determined through the following procedure. For illustrative purposes, please direct your attention to Figure 3.7, which depicts the individual steps in visual form. By employing the previously determined unit vector of the z-axis and the unit vector along the z-axis of the Q-BKS, an imaginary plane can be constructed (depicted in green in Figure 3.7) with the requisite perpendicularity to the axis being sought. To accomplish this, one must simply form the cross product of the two vectors in order to determine a vertical vector at the intersection of the two base vectors. This process is then repeated with the two previously calculated, known base vectors of the coordinate system.</p><p>$</p><p>e<em>{Q,y} = e</em>{Q,x} \times e_{D,z} \tag{3.8} $</p><p>$</p><p>e<em>{Q,x} = e</em>{Q,x} \times e_{Q,y}  \tag{3.9} $</p><p><img src="https://github.com/adribrune/micromobilitykinematics.jl/blob/main/docs/src/assets/Method_for_determining_the_basis_vectors.png" alt="Figure 3.7: Method for determining the basis vectors"/></p><p>Zur endgültigen Bestimmung des Drehpunktes wird dessen Positionsvektor <span>$\mathbf{^Do_{M}}$</span> unter Anwendung von Gleichung 3.5 in das Q-BKS eingespeist. Durch eine zusätzliche Vektoraddition mit dem Positionsvektor des Ursprungs der D-BKS <span>$\mathbf{^QR_{D}}$</span> ist nun die Lage des Drehpunktes <span>$M_L$</span> innerhalb der Q-BKS bekannt.</p><p>$</p><p>\mathbf{^Qo<em>{M}} = \mathbf{^QR</em>{D}} \cdot \mathbf{^Do<em>{M}} + \mathbf{^Qo</em>{G_1}} \tag{3.10}</p><p>$</p><h3 id="Calculation-of-the-joint-position"><a class="docs-heading-anchor" href="#Calculation-of-the-joint-position">Calculation of the joint position</a><a id="Calculation-of-the-joint-position-1"></a><a class="docs-heading-anchor-permalink" href="#Calculation-of-the-joint-position" title="Permalink"></a></h3><p>The preceding steps are essential preliminary procedures that facilitate the calculation of the final, missing component. In conclusion, the L-component was initially modelled by calculating the most significant points within its reference coordinate system. Given the dynamic properties of the wheel suspension and the uncertainty surrounding the influence of subsequent dimensioning on the L-BKS, an independent coordinate system was defined. This Q-BKS enables the tracing of both the position of the L-BKS and the movement of the control arms. In order to calculate the missing joint in an efficient manner, the D-BKS was defined. This involved calculating the centre of rotation of the steering lever and then transforming it into the independent coordinate system. The objective is to combine the two systems, namely the L-BKS and the D-BKS, into a coherent kinematic system with the aim of determining the joint position.</p><p>A comprehensive examination of the kinematic system reveals the existence of two additional components whose influence has not yet been incorporated into the existing calculations. Firstly, the rotation of the track lever, whose centre point has been determined thus far, and secondly, the tie rod, which connects both systems and translates the movement of the L-component to the wheel. In the absence of a connection to the track lever, the tie rod is capable of moving freely around the centre of the joint on the L-component, thereby forming a sphere of potential alignments. If the circular path of the track lever intersects the sphere of the tie rod, this describes the exact position of the joint on the track lever. The maximum number of intersection points that can be determined is limited to two possible positions of the joint, one of which must be selected. Figure 3.8 illustrates the relationship in which the component dimensioning enables two intersection points.</p><h2 id="Selection-criterion-for-joint-positions"><a class="docs-heading-anchor" href="#Selection-criterion-for-joint-positions">Selection criterion for joint positions</a><a id="Selection-criterion-for-joint-positions-1"></a><a class="docs-heading-anchor-permalink" href="#Selection-criterion-for-joint-positions" title="Permalink"></a></h2><p>In the preceding section, two potential positionings were identified; a criterion must therefore be formulated to select between them. To this end, the x coordinates of vectors <span>$\mathbf{l^1}$</span>​ and <span>$\mathbf{l^2}$</span>​are compared, as illustrated in Figure 3.8. Within the Q reference coordinate system, it is verified whether the x-coordinate of vector <span>$\mathbf{l^2}$</span>​ is genuinely smaller than that of vector <span>$\mathbf{l^1}$</span>​.</p><p>$</p><p>x<em>{^Qo</em>{L<em>2}} - x</em>{^Qo<em>M} &lt; x</em>{^Qo<em>{L</em>1}} -x<em>{^Qo</em>M} \tag{3.11} $</p><p>$</p><p>x<em>{l</em>2} &lt; x<em>{l</em>1} \tag{3.12} $</p><p><img src="https://github.com/adribrune/micromobilitykinematics.jl/blob/main/docs/src/assets/Visualisation_of_the_intersection_points_between_the_sphere_and_the_circular_path.png" alt="Figure 3.8: Visualisation of the intersection points between the sphere and the circular path "/></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Introduction</a><a class="docs-footer-nextpage" href="../optimisation_problem/">Optimisation problem of the steering geometry  »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.0 on <span class="colophon-date" title="Thursday 12 December 2024 09:29">Thursday 12 December 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
